{"version":3,"file":"inspector.js","sources":["../src/trix/core/helpers/arrays.js","../src/trix/config/block_attributes.js","../src/trix/constants.js","../src/trix/core/helpers/extend.js","../src/trix/config/attachments.js","../src/trix/core/helpers/dom.js","../src/trix/core/helpers/bidi.js","../src/trix/config/browser.js","../src/trix/config/css.js","../src/trix/config/lang.js","../src/trix/config/file_size_formatting.js","../src/trix/config/input.js","../src/trix/config/key_names.js","../src/trix/config/parser.js","../src/trix/config/text_attributes.js","../src/trix/config/toolbar.js","../src/trix/config/undo.js","../src/trix/core/helpers/config.js","../src/trix/core/helpers/custom_elements.js","../src/trix/core/helpers/events.js","../src/trix/core/helpers/functions.js","../src/trix/core/helpers/objects.js","../src/trix/core/helpers/ranges.js","../src/trix/core/basic_object.js","../src/trix/observers/selection_change_observer.js","../src/trix/core/utilities/utf16_string.js","../src/trix/core/helpers/strings.js","../src/inspector/element.js","../src/inspector/global.js","../src/inspector/templates/debug.js","../src/inspector/templates/document.js","../src/inspector/templates/performance.js","../src/inspector/templates/render.js","../src/inspector/templates/selection.js","../src/inspector/templates/undo.js","../src/inspector/control_element.js","../src/inspector/view.js","../src/inspector/views/debug_view.js","../src/inspector/views/document_view.js","../src/inspector/views/performance_view.js","../src/inspector/views/render_view.js","../src/inspector/views/selection_view.js","../src/inspector/views/undo_view.js"],"sourcesContent":["/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n","const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n","export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n","export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n","export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n","import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n","import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const textArea = makeElement(\"textarea\", { dir: \"auto\", name: \"y\", dirName: \"y.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n  form.appendChild(textArea)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(textArea.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      textArea.value = string\n      return new FormData(form).get(textArea.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n","const androidVersionMatch = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i)\nconst androidVersion = androidVersionMatch && parseInt(androidVersionMatch[1])\n\nexport default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n\n  // Android 13, especially on Samsung keyboards, emits extra compositionend and beforeinput events\n  // that can make the input handler lose the current selection or enter an infinite input -> render -> input\n  // loop.\n  recentAndroid: androidVersion && androidVersion > 12,\n  samsungAndroid: androidVersion && navigator.userAgent.match(/Android.*SM-/),\n\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: typeof InputEvent !== \"undefined\" &&\n    [ \"data\", \"getTargetRanges\", \"inputType\" ].every(prop => prop in InputEvent.prototype),\n}\n","export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n","export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption…\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL…\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n","/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n","import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n","export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n","export default {\n  removeBlankTableCells: false,\n  tableCellSeparator: \" | \",\n  tableRowSeparator: \"\\n\",\n}\n","import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n","import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n","const undo = { interval: 5000 }\nexport default undo\n","import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n","/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n","const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n","export const defer = (fn) => setTimeout(fn, 1)\n","/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n","import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n","export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      document.addEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((sm) => sm !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    this.notifySelectionManagersOfSelectionChange()\n  }\n\n  reset() {\n    this.update()\n  }\n}\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n","/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n?/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n","/* eslint-disable\n    id-length,\n*/\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-inspector\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  position: fixed;\n  background: #fff;\n  border: 1px solid #444;\n  border-radius: 5px;\n  padding: 10px;\n  font-family: sans-serif;\n  font-size: 12px;\n  overflow: auto;\n  word-wrap: break-word;\n}\n\n%t details {\n  margin-bottom: 10px;\n}\n\n%t summary:focus {\n  outline: none;\n}\n\n%t details .panel {\n  padding: 10px;\n}\n\n%t .performance .metrics {\n  margin: 0 0 5px 5px;\n}\n\n%t .selection .characters {\n  margin-top: 10px;\n}\n\n%t .selection .character {\n  display: inline-block;\n  font-size: 8px;\n  font-family: courier, monospace;\n  line-height: 10px;\n  vertical-align: middle;\n  text-align: center;\n  width: 10px;\n  height: 10px;\n  margin: 0 1px 1px 0;\n  border: 1px solid #333;\n  border-radius: 1px;\n  background: #676666;\n  color: #fff;\n}\n\n%t .selection .character.selected {\n  background: yellow;\n  color: #000;\n}\\\n`)\n\nexport default class TrixInspector extends HTMLElement {\n  connectedCallback() {\n    this.editorElement = document.querySelector(`trix-editor[trix-id='${this.dataset.trixId}']`)\n    this.views = this.createViews()\n\n    this.views.forEach((view) => {\n      view.render()\n      this.appendChild(view.element)\n    })\n\n    this.reposition()\n\n    this.resizeHandler = this.reposition.bind(this)\n    addEventListener(\"resize\", this.resizeHandler)\n  }\n\n  disconnectedCallback() {\n    removeEventListener(\"resize\", this.resizeHandler)\n  }\n\n  createViews() {\n    const views = Trix.Inspector.views.map((View) => new View(this.editorElement))\n\n    return views.sort((a, b) => a.title.toLowerCase() > b.title.toLowerCase())\n  }\n\n  reposition() {\n    const { top, right } = this.editorElement.getBoundingClientRect()\n\n    this.style.top = `${top}px`\n    this.style.left = `${right + 10}px`\n    this.style.maxWidth = `${window.innerWidth - right - 40}px`\n    this.style.maxHeight = `${window.innerHeight - top - 30}px`\n  }\n}\n\nwindow.customElements.define(\"trix-inspector\", TrixInspector)\n","window.Trix.Inspector = {\n  views: [],\n\n  registerView(constructor) {\n    return this.views.push(constructor)\n  },\n\n  install(editorElement) {\n    this.editorElement = editorElement\n    const element = document.createElement(\"trix-inspector\")\n    element.dataset.trixId = this.editorElement.trixId\n    return document.body.appendChild(element)\n  },\n}\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/debug\"] = function() {\n  return `<p>\n  <label>\n    <input type=\"checkbox\" name=\"viewCaching\" checked=\"${this.compositionController.isViewCachingEnabled()}\">\n    Cache views between renders\n  </label>\n</p>\n\n<p>\n  <button data-action=\"render\">Force Render</button> <button data-action=\"parse\">Parse current HTML</button>\n</p>\n\n<p>\n  <label>\n    <input type=\"checkbox\" name=\"controlElement\">\n    Show <code>contenteditable</code> control element\n  </label>\n</p>` }\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/document\"] = function() {\n  const details = this.document.getBlocks().map((block, index) => {\n    const { text } = block\n    const pieces = text.pieceList.toArray()\n\n    return `<details class=\"block\">\n      <summary class=\"title\">\n        Block ${block.id}, Index: ${index}\n      </summary>\n      <div class=\"attributes\">\n        Attributes: ${JSON.stringify(block.attributes)}\n      </div>\n\n      <div class=\"text\">\n        <div class=\"title\">\n          Text: ${text.id}, Pieces: ${pieces.length}, Length: ${text.getLength()}\n        </div>\n        <div class=\"pieces\">\n          ${piecePartials(pieces).join(\"\\n\")}\n        </div>\n      </div>\n    </details>`\n  })\n\n  return details.join(\"\\n\")\n}\n\nconst piecePartials = (pieces) =>\n  pieces.map((piece, index) =>`<div class=\"piece\">\n      <div class=\"title\">\n        Piece ${piece.id}, Index: ${index}\n      </div>\n      <div class=\"attributes\">\n        Attributes: ${JSON.stringify(piece.attributes)}\n      </div>\n      <div class=\"content\">\n        ${JSON.stringify(piece.toString())}\n      </div>\n    </div>`)\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/performance\"] = function() {\n  return Object.keys(this.data).map((name) => {\n      const data = this.data[name]\n      return dataMetrics(name, data, this.round)\n  }).join(\"\\n\")\n}\n\nconst dataMetrics = function(name, data, round) {\n  let item = `<strong>${name}</strong> (${data.calls})<br>`\n\n  if (data.calls > 0) {\n    item += `<div class=\"metrics\">\n        Mean: ${round(data.mean)}ms<br>\n        Max: ${round(data.max)}ms<br>\n        Last: ${round(data.last)}ms\n      </div>`\n\n    return item\n  }\n}\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/render\"] = () => `Syncs: ${this.syncCount}`\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/selection\"] = function() {\n  return `Location range: [${this.locationRange[0].index}:${this.locationRange[0].offset}, ${this.locationRange[1].index}:${this.locationRange[1].offset}]\n    ${charSpans(this.characters).join(\"\\n\")}`\n}\n\nconst charSpans = (characters) =>\n  Array.from(characters).map(\n    (char) => `<span class=\"character ${char.selected ? \"selected\" : undefined}\">${char.string}</span>`\n  )\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/undo\"] = () =>\n  `<h4>Undo stack</h4>\n    <ol class=\"undo-entries\">\n      ${entryList(this.undoEntries)}\n    </ol>\n    <h4>Redo stack</h4>\n    <ol class=\"redo-entries\">\n      ${entryList(this.redoEntries)}\n    </ol>`\n\nconst entryList = (entries) =>\n  entries.map((entry) =>\n    `<li>${entry.description} ${JSON.stringify({\n      selectedRange: entry.snapshot.selectedRange,\n      context: entry.context,\n    })}</li>`)\n","const KEY_EVENTS = \"keydown keypress input\".split(\" \")\nconst COMPOSITION_EVENTS = \"compositionstart compositionupdate compositionend textInput\".split(\" \")\nconst OBSERVER_OPTIONS = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class ControlElement {\n  constructor(editorElement) {\n    this.didMutate = this.didMutate.bind(this)\n    this.editorElement = editorElement\n    this.install()\n  }\n\n  install() {\n    this.createElement()\n    this.logInputEvents()\n    this.logMutations()\n  }\n\n  uninstall() {\n    this.observer.disconnect()\n    this.element.parentNode.removeChild(this.element)\n  }\n\n  createElement() {\n    this.element = document.createElement(\"div\")\n    this.element.setAttribute(\"contenteditable\", \"\")\n    this.element.style.width = getComputedStyle(this.editorElement).width\n    this.element.style.minHeight = \"50px\"\n    this.element.style.border = \"1px solid green\"\n    this.editorElement.parentNode.insertBefore(this.element, this.editorElement.nextSibling)\n  }\n\n  logInputEvents() {\n    KEY_EVENTS.forEach((eventName) => {\n      this.element.addEventListener(eventName, (event) => console.log(`${event.type}: keyCode = ${event.keyCode}`))\n    })\n\n    COMPOSITION_EVENTS.forEach((eventName) => {\n      this.element.addEventListener(eventName, (event) =>\n        console.log(`${event.type}: data = ${JSON.stringify(event.data)}`)\n      )\n    })\n  }\n\n  logMutations() {\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.observer.observe(this.element, OBSERVER_OPTIONS)\n  }\n\n  didMutate(mutations) {\n    console.log(`Mutations (${mutations.length}):`)\n    for (let index = 0; index < mutations.length; index++) {\n      const mutation = mutations[index]\n      console.log(` ${index + 1}. ${mutation.type}:`)\n      switch (mutation.type) {\n        case \"characterData\":\n          console.log(`  oldValue = ${JSON.stringify(mutation.oldValue)}, newValue = ${JSON.stringify(mutation.target.data)}`)\n          break\n        case \"childList\":\n          Array.from(mutation.addedNodes).forEach((node) => {\n            console.log(`  node added ${inspectNode(node)}`)\n          })\n\n          Array.from(mutation.removedNodes).forEach((node) => {\n            console.log(`  node removed ${inspectNode(node)}`)\n          })\n      }\n    }\n  }\n}\n\nconst inspectNode = function(node) {\n  if (node.data) {\n    return JSON.stringify(node.data)\n  } else {\n    return JSON.stringify(node.outerHTML)\n  }\n}\n","import { handleEvent } from \"trix/core/helpers\"\n\nexport default class View {\n  constructor(editorElement) {\n    this.editorElement = editorElement\n    this.editorController = this.editorElement.editorController\n    this.editor = this.editorElement.editor\n    this.compositionController = this.editorController.compositionController\n    this.composition = this.editorController.composition\n\n    this.element = document.createElement(\"details\")\n    if (this.getSetting(\"open\") === \"true\") {\n      this.element.open = true\n    }\n    this.element.classList.add(this.constructor.template)\n\n    this.titleElement = document.createElement(\"summary\")\n    this.element.appendChild(this.titleElement)\n\n    this.panelElement = document.createElement(\"div\")\n    this.panelElement.classList.add(\"panel\")\n    this.element.appendChild(this.panelElement)\n\n    this.element.addEventListener(\"toggle\", (event) => {\n      if (event.target === this.element) {\n        return this.didToggle()\n      }\n    })\n\n    if (this.events) {\n      this.installEventHandlers()\n    }\n  }\n\n  installEventHandlers() {\n    for (const eventName in this.events) {\n      const handler = this.events[eventName]\n      const callback = (event) => {\n        requestAnimationFrame(() => {\n          handler.call(this, event)\n        })\n      }\n\n      handleEvent(eventName, { onElement: this.editorElement, withCallback: callback })\n    }\n  }\n\n  didToggle(event) {\n    this.saveSetting(\"open\", this.isOpen())\n    return this.render()\n  }\n\n  isOpen() {\n    return this.element.hasAttribute(\"open\")\n  }\n\n  getTitle() {\n    return this.title || \"\"\n  }\n\n  render() {\n    this.renderTitle()\n    if (this.isOpen()) {\n      this.panelElement.innerHTML = window.JST[`trix/inspector/templates/${this.constructor.template}`].apply(this)\n    }\n  }\n\n  renderTitle() {\n    this.titleElement.innerHTML = this.getTitle()\n  }\n\n  getSetting(key) {\n    key = this.getSettingsKey(key)\n    return window.sessionStorage?.[key]\n  }\n\n  saveSetting(key, value) {\n    key = this.getSettingsKey(key)\n    if (window.sessionStorage) {\n      window.sessionStorage[key] = value\n    }\n  }\n\n  getSettingsKey(key) {\n    return `trix/inspector/${this.template}/${key}`\n  }\n\n  get title() {\n    return this.constructor.title\n  }\n\n  get template() {\n    return this.constructor.template\n  }\n\n  get events() {\n    return this.constructor.events\n  }\n}\n","import View from \"inspector/view\"\n\nimport { handleEvent } from \"trix/core/helpers\"\n\nclass DebugView extends View {\n  static title = \"Debug\"\n  static template = \"debug\"\n\n  constructor() {\n    super(...arguments)\n    this.didToggleViewCaching = this.didToggleViewCaching.bind(this)\n    this.didClickRenderButton = this.didClickRenderButton.bind(this)\n    this.didClickParseButton = this.didClickParseButton.bind(this)\n    this.didToggleControlElement = this.didToggleControlElement.bind(this)\n\n    handleEvent(\"change\", {\n      onElement: this.element,\n      matchingSelector: \"input[name=viewCaching]\",\n      withCallback: this.didToggleViewCaching,\n    })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"button[data-action=render]\",\n      withCallback: this.didClickRenderButton,\n    })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"button[data-action=parse]\",\n      withCallback: this.didClickParseButton,\n    })\n    handleEvent(\"change\", {\n      onElement: this.element,\n      matchingSelector: \"input[name=controlElement]\",\n      withCallback: this.didToggleControlElement,\n    })\n  }\n\n  didToggleViewCaching({ target }) {\n    if (target.checked) {\n      return this.compositionController.enableViewCaching()\n    } else {\n      return this.compositionController.disableViewCaching()\n    }\n  }\n\n  didClickRenderButton() {\n    return this.editorController.render()\n  }\n\n  didClickParseButton() {\n    return this.editorController.reparse()\n  }\n\n  didToggleControlElement({ target }) {\n    if (target.checked) {\n      this.control = new Trix.Inspector.ControlElement(this.editorElement)\n    } else {\n      this.control?.uninstall()\n      this.control = null\n    }\n  }\n}\n\nTrix.Inspector.registerView(DebugView)\n","import View from \"inspector/view\"\n\nclass DocumentView extends View {\n  static title = \"Document\"\n  static template = \"document\"\n  static events = {\n    \"trix-change\": function() {\n      return this.render()\n    },\n  }\n\n  render() {\n    this.document = this.editor.getDocument()\n    return super.render(...arguments)\n  }\n}\n\nTrix.Inspector.registerView(DocumentView)\n","import View from \"inspector/view\"\nconst now = window.performance?.now ? () => performance.now() : () => new Date().getTime()\n\nclass PerformanceView extends View {\n  static title = \"Performance\"\n  static template = \"performance\"\n\n  constructor() {\n    super(...arguments)\n    this.documentView = this.compositionController.documentView\n\n    this.data = {}\n    this.track(\"documentView.render\")\n    this.track(\"documentView.sync\")\n    this.track(\"documentView.garbageCollectCachedViews\")\n    this.track(\"composition.replaceHTML\")\n\n    this.render()\n  }\n\n  track(methodPath) {\n    this.data[methodPath] = { calls: 0, total: 0, mean: 0, max: 0, last: 0 }\n    const parts = methodPath.split(\".\")\n    const propertyNames = parts.slice(0, parts.length - 1)\n    const methodName = parts[parts.length - 1]\n\n    let object = this\n\n    propertyNames.forEach((propertyName) => {\n      object = object[propertyName]\n    })\n\n    const original = object[methodName]\n\n    object[methodName] = function() {\n      const started = now()\n      const result = original.apply(object, arguments)\n      const timing = now() - started\n      this.record(methodPath, timing)\n      return result\n    }.bind(this)\n  }\n\n  record(methodPath, timing) {\n    const data = this.data[methodPath]\n    data.calls += 1\n    data.total += timing\n    data.mean = data.total / data.calls\n    if (timing > data.max) {\n      data.max = timing\n    }\n    data.last = timing\n    return this.render()\n  }\n\n  round(ms) {\n    return Math.round(ms * 1000) / 1000\n  }\n}\n\nTrix.Inspector.registerView(PerformanceView)\n","import View from \"inspector/view\"\n\nexport default class RenderView extends View {\n  static title = \"Renders\"\n  static template = \"render\"\n  static events = {\n    \"trix-render\": function() {\n      this.renderCount++\n      return this.render()\n    },\n\n    \"trix-sync\": function() {\n      this.syncCount++\n      return this.render()\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.renderCount = 0\n    this.syncCount = 0\n  }\n\n  getTitle() {\n    return `${this.title} (${this.renderCount})`\n  }\n}\n\nTrix.Inspector.registerView(RenderView)\n","import View from \"inspector/view\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nclass SelectionView extends View {\n  static title = \"Selection\"\n  static template = \"selection\"\n  static events = {\n    \"trix-selection-change\": function() {\n      return this.render()\n    },\n    \"trix-render\": function() {\n      return this.render()\n    },\n  }\n\n  render() {\n    this.document = this.editor.getDocument()\n    this.range = this.editor.getSelectedRange()\n    this.locationRange = this.composition.getLocationRange()\n    this.characters = this.getCharacters()\n    return super.render(...arguments)\n  }\n\n  getCharacters() {\n    const chars = []\n    const utf16string = UTF16String.box(this.document.toString())\n    const rangeIsExpanded = this.range[0] !== this.range[1]\n    let position = 0\n    while (position < utf16string.length) {\n      let string = utf16string.charAt(position).toString()\n      if (string === \"\\n\") {\n        string = \"⏎\"\n      }\n      const selected = rangeIsExpanded && position >= this.range[0] && position < this.range[1]\n      chars.push({ string, selected })\n      position++\n    }\n    return chars\n  }\n\n  getTitle() {\n    return `${this.title} (${this.range.join()})`\n  }\n}\n\nTrix.Inspector.registerView(SelectionView)\n","import View from \"inspector/view\"\n\nclass UndoView extends View {\n  static title = \"Undo\"\n  static template = \"undo\"\n  static events = {\n    \"trix-change\": function() {\n      return this.render()\n    },\n  }\n\n  render() {\n    this.undoEntries = this.editor.undoManager.undoEntries\n    this.redoEntries = this.editor.undoManager.redoEntries\n    return super.render(...arguments)\n  }\n}\n\nTrix.Inspector.registerView(UndoView)\n"],"names":["arraysAreEqual","a","arguments","length","undefined","b","index","value","arrayStartsWith","slice","spliceArray","array","result","_len","args","Array","_key","splice","summarizeArrayChange","oldArray","newArray","added","removed","existingValues","Set","forEach","add","currentValues","has","push","attributes","default","tagName","parse","quote","nestable","heading1","terminal","breakOnReturn","group","code","text","plaintext","bulletList","bullet","listAttribute","test","element","parentNode","numberList","number","attachmentGallery","exclusive","_element$tagName","toLowerCase","ZERO_WIDTH_SPACE","NON_BREAKING_SPACE","OBJECT_REPLACEMENT_CHARACTER","extend","properties","key","attachmentSelector","attachments","preview","presentation","caption","name","size","file","html","document","documentElement","match","matches","handleEvent","eventName","onElement","matchingSelector","withCallback","inPhase","preventDefault","times","selector","useCapture","handler","event","destroy","target","findClosestElementFromNode","call","removeEventListener","addEventListener","handleEventOnce","options","triggerEvent","bubbles","cancelable","createEvent","initEvent","dispatchEvent","elementMatchesSelector","nodeType","node","untilNode","Node","ELEMENT_NODE","closest","findInnerElement","_element","firstElementChild","innerElementIsActive","activeElement","elementContainsNode","findNodeFromContainerAndOffset","container","offset","TEXT_NODE","firstChild","childNodes","item","findElementFromContainerAndOffset","findChildIndexOfNode","_node","childIndex","previousSibling","removeNode","_node$parentNode","removeChild","walkTree","tree","onlyNodesOfType","usingFilter","expandEntityReferences","whatToShow","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","SHOW_COMMENT","SHOW_ALL","createTreeWalker","makeElement","tag","createElement","editable","contenteditable","setAttribute","style","data","dataset","className","split","classList","textContent","concat","childNode","appendChild","blockTagNames","getBlockTagNames","blockAttributes","nodeIsBlockContainer","nodeIsBlockStartComment","nodeProbablyIsBlockContainer","includes","nodeIsBlockStart","strict","nodeIsCommentNode","COMMENT_NODE","nodeIsCursorTarget","nodeIsTextNode","trixCursorTarget","nodeIsAttachmentElement","nodeIsEmptyTextNode","RTL_PATTERN","getDirection","input","dir","dirName","textArea","form","supportsDirName","FormData","error","supportsDirSelector","string","get","char","trim","charAt","androidVersionMatch","navigator","userAgent","androidVersion","parseInt","composesExistingText","recentAndroid","samsungAndroid","forcesObjectResizing","supportsInputEvents","InputEvent","every","prop","prototype","attachment","attachmentCaption","attachmentCaptionEditor","attachmentMetadata","attachmentMetadataContainer","attachmentName","attachmentProgress","attachmentSize","attachmentToolbar","attachFiles","bold","bullets","byte","bytes","captionPlaceholder","indent","italic","link","numbers","outdent","redo","remove","strike","undo","unlink","url","urlPlaceholder","GB","KB","MB","PB","TB","sizes","lang","prefix","precision","formatter","base","exp","Math","floor","log","humanSize","pow","toFixed","withoutInsignificantZeros","replace","level2Enabled","getLevel","browser","pickFiles","callback","type","multiple","hidden","id","fileInputId","files","getElementById","body","click","removeBlankTableCells","tableCellSeparator","tableRowSeparator","inheritable","parser","window","getComputedStyle","fontWeight","fontStyle","href","groupTagName","getAttribute","frozen","backgroundColor","getDefaultHTML","interval","allAttributeNames","blockAttributeNames","textAttributeNames","listAttributeNames","getAllAttributeNames","getTextAttributeNames","getBlockAttributeNames","getBlockConfig","attributeName","config","Object","keys","getTextConfig","getListAttributeNames","installDefaultCSSForTagName","defaultCSS","styleElement","insertStyleElementForTagName","nonce","getCSPNonce","head","insertBefore","getMetaElement","querySelector","testTransferData","dataTransferIsPlainText","dataTransfer","getData","DOMParser","parseFromString","dataTransferIsWritable","setData","keyEventIsKeyboardCommand","platform","metaKey","ctrlKey","defer","fn","setTimeout","copyObject","object","objectsAreEqual","normalizeRange","range","isArray","copyValue","rangeIsCollapsed","start","end","rangeValuesAreEqual","rangesAreEqual","leftRange","rightRange","leftStart","leftEnd","rightStart","rightEnd","left","right","BasicObject","proxyMethod","expression","toMethod","toProperty","optional","parseProxyMethodExpression","subject","_this$toMethod","_object","apply","proxyMethodExpressionPattern","Error","Function","RegExp","SelectionChangeObserver","constructor","update","bind","selectionManagers","started","stop","registerSelectionManager","selectionManager","unregisterSelectionManager","filter","sm","notifySelectionManagersOfSelectionChange","map","selectionDidChange","reset","selectionChangeObserver","getDOMSelection","selection","getSelection","rangeCount","getDOMRange","_getDOMSelection","domRange","getRangeAt","domRangeIsPrivate","setDOMRange","removeAllRanges","addRange","nodeIsPrivate","startContainer","endContainer","getPrototypeOf","UTF16String","box","fromUCS2String","toString","ucs2String","ucs2decode","fromCodepoints","codepoints","ucs2encode","ucs2Length","offsetToUCS2Offset","max","offsetFromUCS2Offset","ucs2Offset","isEqualTo","toJSON","getCacheKey","hasArrayFrom","_Array$from","from","hasStringCodePointAt","_$codePointAt","_","codePointAt","hasStringFromCodePoint","_String$fromCodePoint","String","fromCodePoint","output","counter","charCodeAt","extra","characters","fromCharCode","join","normalizeSpaces","normalizeNewlines","breakableWhitespacePattern","squishBreakableWhitespace","source","summarizeStringChange","oldString","newString","utf16StringDifferences","diffA","utf16StringDifference","utf16String","diffB","leftIndex","rightIndexA","rightIndexB","TrixInspector","HTMLElement","connectedCallback","editorElement","trixId","views","createViews","view","render","reposition","resizeHandler","disconnectedCallback","Trix","Inspector","View","sort","title","top","getBoundingClientRect","maxWidth","innerWidth","maxHeight","innerHeight","customElements","define","registerView","install","JST","compositionController","isViewCachingEnabled","details","getBlocks","block","pieces","pieceList","toArray","JSON","stringify","getLength","piecePartials","piece","dataMetrics","round","calls","mean","last","this","syncCount","locationRange","charSpans","selected","entryList","undoEntries","redoEntries","entries","entry","description","selectedRange","snapshot","context","KEY_EVENTS","COMPOSITION_EVENTS","OBSERVER_OPTIONS","childList","characterData","characterDataOldValue","subtree","ControlElement","didMutate","logInputEvents","logMutations","uninstall","observer","disconnect","width","minHeight","border","nextSibling","console","keyCode","MutationObserver","observe","mutations","mutation","oldValue","addedNodes","inspectNode","removedNodes","outerHTML","editorController","editor","composition","getSetting","open","template","titleElement","panelElement","didToggle","events","installEventHandlers","requestAnimationFrame","saveSetting","isOpen","hasAttribute","getTitle","renderTitle","innerHTML","_window$sessionStorag","getSettingsKey","sessionStorage","DebugView","didToggleViewCaching","didClickRenderButton","didClickParseButton","didToggleControlElement","_ref","checked","enableViewCaching","disableViewCaching","reparse","_ref2","control","_this$control","_defineProperty","DocumentView","getDocument","now","_window$performance","performance","Date","getTime","PerformanceView","documentView","track","methodPath","total","parts","propertyNames","methodName","propertyName","original","timing","record","ms","RenderView","renderCount","SelectionView","getSelectedRange","getLocationRange","getCharacters","chars","utf16string","rangeIsExpanded","position","UndoView","undoManager"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFc,MAAM1E,IAAI,CAAC;EACxBjG,WAAWA,CAACsF,aAAa,EAAE;IACzB,IAA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"}